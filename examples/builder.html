<html>
	<head>
		<script src='../npm/dist/WebAudioFontPlayer.js'></script>
		<script src='https://surikov.github.io/webaudiofontdata/sound/0253_Acoustic_Guitar_sf2_file.js'></script>
		<script>
			var guitar = _tone_0253_Acoustic_Guitar_sf2_file;
			var AudioContextFunc = window.AudioContext || window.webkitAudioContext;
			var audioContext = new AudioContextFunc();
			var output = audioContext.destination;
			var player = new WebAudioFontPlayer();
			var now = 0;

			var C = 0, Cs = 1
				, Db = 1, D = 2, Ds = 3
				, Eb = 3, E = 4
				, F = 5, Fs = 6
				, Gb = 6, G = 7, Gs = 8
				, Ab = 8, A = 9, As = 10
				, Bb = 10, B = 11;
			var O = 12;
			var _6th = E +O*3
				, _5th = A +O*3
				, _4th = D +O*4
				, _3rd = G +O*4
				, _2nd = B +O*4
				, _1st = E +O*5;
			
			var fretsAm    = {base: A +O*3, strings: [-1, 0, 2, 2, 1, 0]};
			var fretsAm7   = {base: A +O*3, strings: [-1, 0, 2, 0, 1, 0]};
			var fretsA7    = {base: A +O*3, strings: [-1, 0, 2, 0, 2, 0]};
			var fretsA     = {base: A +O*3, strings: [-1, 0, 2, 2, 2, 0]};

			var fretsBm7   = {base: B +O*3, strings: [-1, 2, 0, 2, 0, 2]};
			var fretsB7    = {base: B +O*3, strings: [-1, 2, 1, 2, 0, 2]};

			var fretsC     = {base: C +O*4, strings: [-1, 3, 2, 0, 1, 0]};
			var fretsCmaj7 = {base: C +O*4, strings: [-1, 3, 2, 0, 0, 0]};
			var fretsC2    = {base: C +O*4, strings: [-1, 3, 2, 0, 3, 0]};

			var fretsDm    = {base: D +O*3, strings: [-1,-1, 0, 2, 3, 1]};
			var fretsD     = {base: D +O*3, strings: [-1,-1, 0, 2, 3, 2]};
			var fretsD7    = {base: D +O*3, strings: [-1,-1, 0, 2, 3, 2]};
			var fretsDsus2 = {base: D +O*3, strings: [-1,-1, 0, 2, 3, 0]};

			var fretsE     = {base: E +O*3, strings: [ 0, 2, 2, 1, 0, 0]};
			var fretsEm    = {base: E +O*3, strings: [ 0, 2, 2, 0, 0, 0]};
			var fretsEm7   = {base: E +O*3, strings: [ 0, 2, 0, 0, 0, 0]};
			var fretsE7    = {base: E +O*3, strings: [ 0, 2, 0, 1, 0, 0]};

			var fretsF     = {base: F +O*3, strings: [-1,-1, 3, 2, 1, 1]};
			var fretsFmaj7 = {base: F +O*3, strings: [-1,-1, 3, 2, 1, 0]};

			var fretsG     = {base: G +O*3, strings: [ 3, 2, 0, 0, 0, 3]};

			var progression = [fretsAm, fretsC, fretsG, fretsEm];
			var tempo = 120;

			player.loader.decodeAfterLoading(audioContext, '_tone_0253_Acoustic_Guitar_sf2_file');

			function cancelPlay(){
				console.log('cancelPlay');
				player.cancelQueue(audioContext);
			}
			function startPlay(){
				console.log('startPlay');
			}
			function exportRiff(){
				console.log('exportRiff');
			}
			function randomizeRiff(){
				console.log('randomizeRiff');
			}
		</script>
	</head>
	<body>
		<button onclick='randomizeRiff()'>Randomize</button>
		<button onclick='exportRiff()'>Open</button>
		<button onclick='startPlay()'>Play</button>
		<button onclick='cancelPlay()'>Stop</button>
		<hr/>
		<p><a href="https://surikov.github.io/webaudiofont/">source</a></p>
	</body>
</html>